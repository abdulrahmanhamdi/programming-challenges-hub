<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Contributors | Coding Hub</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/global.css">
    <link rel="stylesheet" href="assets/css/theme.css">
    <link rel="stylesheet" href="assets/css/components.css">
    <style>
        .contributor-img { width: 80px; height: 80px; object-fit: cover; border-radius: 50%; }
    </style>
</head>
<body class="bg-light">

<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container-fluid">
        <a class="navbar-brand" href="index.html">Coding Hub</a>
        <a href="index.html" class="btn btn-sm btn-outline-light ms-auto">Home</a>
    </div>
</nav>

<div class="container mt-5">
    <h2 class="text-center mb-3">Top Contributors</h2>
    <p class="text-center text-muted mb-5">Thanks to everyone who helped build this!</p>

    <div id="contributorsList" class="row g-4 justify-content-center">
        <div class="text-center">Loading...</div>
    </div>
</div>

<script src="assets/js/config.js"></script>
<script src="assets/js/core.js"></script>

<script>
// Use config values
const API_URL = `https://api.github.com/repos/${CONFIG.REPO_OWNER}/${CONFIG.REPO_NAME}/contributors`;

fetch(API_URL)
  .then(res => res.json())
  .then(data => {
      const container = document.getElementById("contributorsList");
      if (!Array.isArray(data)) {
          container.innerHTML = "<p class='text-center text-danger'>Failed to load contributors.</p>";
          return;
      }

      container.innerHTML = "";
      data.forEach(c => {
          container.innerHTML += `
            <div class="col-md-3 text-center animate-slide-up">
                <div class="card p-4 shadow-sm align-items-center">
                    <img src="${c.avatar_url}" class="contributor-img mb-3" alt="${c.login}">
                    <h5>${c.login}</h5>
                    <span class="badge bg-secondary">${c.contributions} commits</span>
                    <a href="${c.html_url}" target="_blank" class="btn btn-sm btn-outline-primary mt-3">Profile</a>
                </div>
            </div>
          `;
      });
  })
  .catch(err => {
      document.getElementById("contributorsList").innerHTML = "<p class='text-center'>Could not fetch data (Check Config).</p>";
  });
</script>

</body>
</html>