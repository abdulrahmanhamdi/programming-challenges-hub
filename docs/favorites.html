<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Favorites | Coding Hub</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/global.css">
    <link rel="stylesheet" href="assets/css/theme.css">
    <link rel="stylesheet" href="assets/css/components.css">
</head>
<body class="bg-light">

<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container-fluid">
        <a class="navbar-brand" href="index.html">Coding Hub</a>
        <a href="problems.html" class="btn btn-sm btn-outline-light ms-auto">Back to Problems</a>
    </div>
</nav>

<div class="container mt-4">
    <h2 class="mb-4 text-center">‚≠ê My Favorites</h2>
    <div id="favList" class="row g-4"></div>
</div>

<script src="assets/js/config.js"></script>
<script src="assets/js/core.js"></script>
<script src="assets/js/favorites.js"></script>

<script>
function loadFavoritesUI() {
    const favs = getFavorites(); // from favorites.js
    const list = document.getElementById("favList");

    if (favs.length === 0) {
        list.innerHTML = `<p class="text-center text-muted">No favorites yet.</p>`;
        return;
    }

    list.innerHTML = "";

    favs.forEach(f => {
        list.innerHTML += `
        <div class="col-md-4 animate-slide-up">
            <div class="card p-3 shadow-sm">
                <h5>${f.title}</h5>
                <p><strong>Difficulty:</strong> ${f.difficulty}</p>
                
                <div class="d-flex justify-content-between mt-3">
                    <a href="problem.html?id=${f.link}" class="btn btn-sm btn-outline-primary">View</a>
                    <button class="btn btn-danger btn-sm" onclick="removeAndReload('${f.slug}')">Remove</button>
                </div>
            </div>
        </div>`;
    });
}

function removeAndReload(slug) {
    // Logic to filter out the item
    let favs = getFavorites().filter(f => f.slug !== slug);
    saveFavorites(favs);
    loadFavoritesUI();
}

loadFavoritesUI();
</script>

</body>
</html>